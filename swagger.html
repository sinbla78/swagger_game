<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Swagger UI</title>
    <link rel="stylesheet" type="text/css" href="https://unpkg.com/swagger-ui-dist@5.29.5/swagger-ui.css">
</head>
<body>
    <div id="swagger-ui"></div>

    <script src="https://unpkg.com/swagger-ui-dist@5.29.5/swagger-ui-bundle.js"></script>
    <script src="https://unpkg.com/swagger-ui-dist@5.29.5/swagger-ui-standalone-preset.js"></script>
    <script>
        window.onload = function() {
            // 간단한 Swagger 문서 예제
            const spec = {
                openapi: "3.0.0",
                info: {
                    title: "게임 API",
                    version: "1.0.0",
                    description: "간단한 게임 API 예제입니다"
                },
                servers: [
                    {
                        url: "http://localhost:3000/api",
                        description: "개발 서버"
                    }
                ],
                paths: {
                    "/users": {
                        get: {
                            summary: "모든 유저 조회",
                            description: "시스템의 모든 유저를 조회합니다",
                            responses: {
                                "200": {
                                    description: "성공",
                                    content: {
                                        "application/json": {
                                            schema: {
                                                type: "array",
                                                items: {
                                                    $ref: "#/components/schemas/User"
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        },
                        post: {
                            summary: "유저 생성",
                            description: "새로운 유저를 생성합니다",
                            requestBody: {
                                required: true,
                                content: {
                                    "application/json": {
                                        schema: {
                                            $ref: "#/components/schemas/UserInput"
                                        }
                                    }
                                }
                            },
                            responses: {
                                "201": {
                                    description: "생성됨",
                                    content: {
                                        "application/json": {
                                            schema: {
                                                $ref: "#/components/schemas/User"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "/users/{userId}": {
                        get: {
                            summary: "특정 유저 조회",
                            parameters: [
                                {
                                    name: "userId",
                                    in: "path",
                                    required: true,
                                    schema: {
                                        type: "integer"
                                    }
                                }
                            ],
                            responses: {
                                "200": {
                                    description: "성공",
                                    content: {
                                        "application/json": {
                                            schema: {
                                                $ref: "#/components/schemas/User"
                                            }
                                        }
                                    }
                                },
                                "404": {
                                    description: "유저를 찾을 수 없음"
                                }
                            }
                        }
                    },
                    "/games": {
                        get: {
                            summary: "모든 게임 조회",
                            responses: {
                                "200": {
                                    description: "성공",
                                    content: {
                                        "application/json": {
                                            schema: {
                                                type: "array",
                                                items: {
                                                    $ref: "#/components/schemas/Game"
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "/games/{gameId}/start": {
                        post: {
                            summary: "게임 시작",
                            parameters: [
                                {
                                    name: "gameId",
                                    in: "path",
                                    required: true,
                                    schema: {
                                        type: "integer"
                                    }
                                }
                            ],
                            responses: {
                                "200": {
                                    description: "게임 시작됨"
                                }
                            }
                        }
                    }
                },
                components: {
                    schemas: {
                        User: {
                            type: "object",
                            properties: {
                                id: {
                                    type: "integer",
                                    example: 1
                                },
                                username: {
                                    type: "string",
                                    example: "player123"
                                },
                                email: {
                                    type: "string",
                                    example: "player@example.com"
                                },
                                level: {
                                    type: "integer",
                                    example: 5
                                },
                                createdAt: {
                                    type: "string",
                                    format: "date-time"
                                }
                            }
                        },
                        UserInput: {
                            type: "object",
                            required: ["username", "email"],
                            properties: {
                                username: {
                                    type: "string",
                                    example: "newplayer"
                                },
                                email: {
                                    type: "string",
                                    example: "newplayer@example.com"
                                }
                            }
                        },
                        Game: {
                            type: "object",
                            properties: {
                                id: {
                                    type: "integer",
                                    example: 1
                                },
                                title: {
                                    type: "string",
                                    example: "슈퍼 어드벤처"
                                },
                                genre: {
                                    type: "string",
                                    example: "RPG"
                                },
                                players: {
                                    type: "integer",
                                    example: 100
                                }
                            }
                        }
                    }
                }
            };

            SwaggerUIBundle({
                spec: spec,
                dom_id: '#swagger-ui',
                deepLinking: true,
                presets: [
                    SwaggerUIBundle.presets.apis,
                    SwaggerUIStandalonePreset
                ],
                plugins: [
                    SwaggerUIBundle.plugins.DownloadUrl
                ],
                layout: "StandaloneLayout"
            });
        };
    </script>
</body>
</html>
